!function(a){a.fn.scrollHighlight=function(b){return this.each(function(){function x(){function i(b){return"vertical"==f?a(b).offset().top:a(b).offset().left}function j(b){return"vertical"==f?a(b).outerHeight():a(b).outerWidth()}function k(a){e>=c[a]&&n.removeClass(h).eq(r[a]).addClass(h)}for(var c=[],e="vertical"==f?l.scrollTop()+g:l.scrollLeft()+g,m=0;w>m;m++)c.push(i(q[m])),k(m),d.cancelFlag&&e>c[m]+j(q[m])&&n.eq(r[m]).removeClass(h)}var c={childItem:"a",attribute:"href",highlight:"highlight",buffer:0,cancelFlag:!0,container:window,mode:"vertical"},d=a.extend({},c,b),e=a(this),f=d.mode,g=d.buffer,h=d.highlight,i=d.childItem,j=d.attribute,k=a(d.container),l=a(window);if(!(e.length<=0)){for(var m,n=e.find(i),o=0,p=n.length,q=[],r=[],s=[];p>o;o++)s.push(n.eq(o).attr(j));for(var t=s.length,u=0;t>u;u++){var v=a(s[u]);v.length&&v.is(":visible")&&(q.push(s[u]),r.push(u))}var w=q.length;n.each(function(b){a(this).click(function(){var e=a(s[b]),h=d.container==window?a("html,body"):a(d.container);e.length&&e.is(":visible")&&("vertical"==f?h.animate({scrollTop:e.offset().top-g+h.scrollTop()},300):h.animate({scrollLeft:e.offset().left-g+h.scrollLeft()},300))})}),k.on("scroll",function(){clearTimeout(m),m=setTimeout(x,100)}),k.on("resize",function(){clearTimeout(m),m=setTimeout(x,100)})}})}}(jQuery);